
<link rel="import" href="../../bower_components/polymer/polymer-element.html">
<link rel="import" href="../../bower_components/google-map/google-map.html">
<link rel="import" href="../../bower_components/google-map/google-map-marker.html">

<dom-module id="map-view">
    <template>
        <style include="shared-styles">
            :host {
                display: flex;
                flex-direction: column;
                height: 100vh;
            }

            #main {
                width: 100%;
                height: 100%;
                position: relative;
            }
            #googleMap {
                width: 100%;
                height: 100%;
            }
        </style>

        <div id="main">
            <google-map id="googleMap" latitude="49.6" longitude="6.25" zoom="13"
                        api-key="[[apiKey]]" drag-events="true" on-google-map-dragend="_onGoogleMapDragend">
                <template is="dom-repeat" items="[[positions]]" as="position">
                    <google-map-marker latitude="{{position.latitude}}" longitude="{{position.longitude}}"
                                       icon="../images/pin.png">
                        <ul>
                            <li>[[position.name]]</li>
                        </ul>
                    </google-map-marker>
                </template>

            </google-map>
        </div>

    </template>
    <script>
        class MapView extends Polymer.Element {
            static get is() {
                return 'map-view';
            }

            static get properties() {
                return {
                    mapLat: {
                        type: Number,
                        value: 49.6
                    },
                    mapLong: {
                        type: Number,
                        value: 6.25
                    }
                }
            }

            ready() {
                super.ready();
            }
        }
        window.customElements.define(MapView.is, MapView);
    </script>
</dom-module>
